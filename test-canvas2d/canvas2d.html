<!DOCTYPE html>
<html>
<body>

<canvas id="myCanvas" width="256" height="256">
Your browser does not support the canvas element.
</canvas>

<script>
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
// ctx.fillStyle = "#FF0000";
// ctx.fillStyle = "rgb(200,0,0)";

var redFunction= function(x,y) {
  // return Math.sin(x);
  return Math.sin(x)*Math.sin(y);
}


var greenFunction= function(x,y) {
  return Math.sin(x)*Math.sin(y);
  // return 0;
}

var blueFunction= function(x,y) {
  // return Math.cos(0.5*(x+y));
  return -Math.sin(x)*Math.sin(y);
  // return 0;
}

redRange=[-1,1];
greenRange=[-1,1];
blueRange=[-1,1];

var x,y, rx, ry, zRed, zGreen, zBlue;
var xRange=[-2*Math.PI,2*Math.PI];
var yRange=[-2*Math.PI,2*Math.PI];
var xStep= (xRange[1]-xRange[0])/ctx.canvas.width;
var yStep= (yRange[1]-yRange[0])/ctx.canvas.height;
for( x=0; x<ctx.canvas.width; x++)
  for( y=0; y<ctx.canvas.height; y++) {
    rx= xRange[0]+x*xStep;
    ry= yRange[0]+y*yStep;
    zRed= Math.floor(255*(redFunction(rx,ry)-redRange[0])/(redRange[1]-redRange[0]));
    zGreen= Math.floor(255*(greenFunction(rx,ry)-greenRange[0])/(greenRange[1]-greenRange[0]));
    zBlue= Math.floor(255*(blueFunction(rx,ry)-blueRange[0])/(blueRange[1]-blueRange[0]));
    ctx.fillStyle = "rgb("+zRed+","+zGreen+","+zBlue+")";

    ctx.fillRect(x,y,1,1);
  }
console.log(ctx);
</script>

</body>
</html>

